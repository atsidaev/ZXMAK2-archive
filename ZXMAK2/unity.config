<?xml version="1.0" encoding="utf-8" ?>
<unity xmlns="http://schemas.microsoft.com/practices/2010/unity">
    <typeAliases>
        <typeAlias alias="IResolver" type="ZXMAK2.Dependency.IResolver, ZXMAK2.Dependency" />
        <typeAlias alias="ResolverUnity" type="ZXMAK2.Dependency.ResolverUnity, ZXMAK2.Dependency" />

        <typeAlias alias="IUserMessage" type="ZXMAK2.Host.Interfaces.IUserMessage, ZXMAK2.Host" />
        <typeAlias alias="UserMessage" type="ZXMAK2.Host.Services.UserMessage, ZXMAK2.Host" />

        <typeAlias alias="IUserQuery" type="ZXMAK2.Host.Interfaces.IUserQuery, ZXMAK2.Host" />
        <typeAlias alias="UserQueryProxy" type="ZXMAK2.Host.Services.UserQueryProxy, ZXMAK2.Host" />
        <typeAlias alias="UserQuery_WinForms" type="ZXMAK2.Host.WinForms.Services.UserQuery, ZXMAK2.Host.WinForms" />

        <typeAlias alias="IUserHelp" type="ZXMAK2.Host.Interfaces.IUserHelp, ZXMAK2.Host" />
        <typeAlias alias="UserHelp_WinForms" type="ZXMAK2.Host.WinForms.Services.UserHelp, ZXMAK2.Host.WinForms" />

        <typeAlias alias="IOpenFileDialog" type="ZXMAK2.Host.Interfaces.IOpenFileDialog, ZXMAK2.Host" />
        <typeAlias alias="OpenFileDialog_WinForms" type="ZXMAK2.Host.WinForms.Services.OpenFileDialog, ZXMAK2.Host.WinForms" />

        <typeAlias alias="ISaveFileDialog" type="ZXMAK2.Host.Interfaces.ISaveFileDialog, ZXMAK2.Host" />
        <typeAlias alias="SaveFileDialog_WinForms" type="ZXMAK2.Host.WinForms.Services.SaveFileDialog, ZXMAK2.Host.WinForms" />

        <typeAlias alias="ILauncher" type="ZXMAK2.Host.Presentation.Interfaces.ILauncher, ZXMAK2.Host.Presentation" />
        <typeAlias alias="Launcher" type="ZXMAK2.Host.Presentation.Launcher, ZXMAK2.Host.Presentation" />

        <!-- main view -->
        <typeAlias alias="IMainPresenter" type="ZXMAK2.Host.Presentation.Interfaces.IMainPresenter, ZXMAK2.Host.Presentation" />
        <typeAlias alias="MainPresenter" type="ZXMAK2.MVP.MainPresenter, ZXMAK2" />

        <typeAlias alias="IMainView" type="ZXMAK2.Host.Presentation.Interfaces.IMainView, ZXMAK2.Host.Presentation" />
        <typeAlias alias="MainView_WinForms" type="ZXMAK2.Host.WinForms.Views.MainView, ZXMAK2.Host.WinForms" />
        <typeAlias alias="MainView_Xna" type="ZXMAK2.Host.Xna4.Views.MainView, ZXMAK2.Host.Xna4" />

        <typeAlias alias="IAboutView" type="ZXMAK2.Host.Presentation.Interfaces.IAboutView, ZXMAK2.Host.Presentation" />
        <typeAlias alias="AboutView_WinForms" type="ZXMAK2.Controls.FormAbout, ZXMAK2.Host.WinForms" />

        <typeAlias alias="IKeyboardView" type="ZXMAK2.Host.Presentation.Interfaces.IKeyboardView, ZXMAK2.Host.Presentation" />
        <typeAlias alias="KeyboardView_WinForms" type="ZXMAK2.Controls.FormKeyboardHelp, ZXMAK2" />

        <typeAlias alias="IMemoryMapView" type="ZXMAK2.Host.Presentation.Interfaces.IMemoryMapView, ZXMAK2.Host.Presentation" />
        <typeAlias alias="MemoryMapView_WinForms" type="ZXMAK2.Controls.Debugger.FormMemoryMap, ZXMAK2" />

        <typeAlias alias="ITapeView" type="ZXMAK2.Host.Presentation.Interfaces.ITapeView, ZXMAK2.Host.Presentation" />
        <typeAlias alias="TapeView_WinForms" type="ZXMAK2.Controls.TapeForm, ZXMAK2" />

        <typeAlias alias="IFddDebugView" type="ZXMAK2.Host.Presentation.Interfaces.IFddDebugView, ZXMAK2.Host.Presentation" />
        <typeAlias alias="FddDebugView_WinForms" type="ZXMAK2.Controls.Debugger.dbgWD1793, ZXMAK2" />

        <typeAlias alias="IDebuggerGeneralView" type="ZXMAK2.Host.Presentation.Interfaces.IDebuggerGeneralView, ZXMAK2.Host.Presentation" />
        <typeAlias alias="DebuggerGeneralView_WinForms" type="ZXMAK2.Hardware.General.UI.FormCpu, ZXMAK2" />

        <typeAlias alias="IDebuggerSprinterView" type="ZXMAK2.Host.Presentation.Interfaces.IDebuggerSprinterView, ZXMAK2.Host.Presentation" />
        <typeAlias alias="DebuggerSprinterView_WinForms" type="ZXMAK2.Hardware.Sprinter.UI.DebugForm, ZXMAK2" />

        <typeAlias alias="IDebuggerAdlersView" type="ZXMAK2.Host.Presentation.Interfaces.IDebuggerAdlersView, ZXMAK2.Host.Presentation" />
        <typeAlias alias="DebuggerAdlersView_WinForms" type="ZXMAK2.Hardware.Adlers.UI.FormCpu, ZXMAK2" />
    </typeAliases>

    <containers>
        <container>
            <!-- 
                Allowed values: winforms, xna 
            -->
            <instance name="viewType" value="winforms" type="System.String" />

            <register type="IResolver" mapTo="ResolverUnity" name="View">
                <constructor>
                    <param name="containerName">
                        <dependency name="viewType" />
                    </param>
                </constructor>
                <lifetime type="transient" />
            </register>

            <!-- Service Proxies -->
            <register type="IUserMessage" mapTo="UserMessage">
                <lifetime type="transient" />
            </register>
            <register type="IUserQuery" mapTo="UserQueryProxy">
                <lifetime type="transient" />
            </register>


            <register type="ILauncher" mapTo="Launcher">
                <lifetime type="singleton" />
            </register>
            <register type="IMainPresenter" mapTo="MainPresenter">
                <lifetime type="transient" />
            </register>
        </container>

        <container name="winforms">
            <!-- Services -->
            <register type="IUserMessage" mapTo="UserMessage">
                <lifetime type="singleton" />
            </register>
            <register type="IUserQuery" mapTo="UserQuery_WinForms">
                <lifetime type="singleton" />
            </register>
            <register type="IUserHelp" mapTo="UserHelp_WinForms">
                <lifetime type="transient" />
            </register>
            <register type="IOpenFileDialog" mapTo="OpenFileDialog_WinForms">
                <lifetime type="transient" />
            </register>
            <register type="ISaveFileDialog" mapTo="SaveFileDialog_WinForms">
                <lifetime type="transient" />
            </register>

            <!-- Emulator UI -->
            <register type="IMainView" mapTo="MainView_WinForms">
                <property name="KeyboardMapFile" value="Keyboard.Mdx.config" />
                <lifetime type="transient" />
            </register>
            <register type="IAboutView" mapTo="AboutView_WinForms">
                <lifetime type="transient" />
            </register>
            <register type="IKeyboardView" mapTo="KeyboardView_WinForms">
                <lifetime type="transient" />
            </register>

            <!-- Device UI -->
            <register type="IMemoryMapView" mapTo="MemoryMapView_WinForms">
                <lifetime type="transient" />
            </register>
            <register type="ITapeView" mapTo="TapeView_WinForms">
                <lifetime type="transient" />
            </register>
            <register type="IFddDebugView" mapTo="FddDebugView_WinForms">
                <lifetime type="transient" />
            </register>
            <register type="IDebuggerGeneralView" mapTo="DebuggerGeneralView_WinForms">
                <lifetime type="transient" />
            </register>
            <register type="IDebuggerSprinterView" mapTo="DebuggerSprinterView_WinForms">
                <lifetime type="transient" />
            </register>
            <register type="IDebuggerAdlersView" mapTo="DebuggerAdlersView_WinForms">
                <lifetime type="transient" />
            </register>
        </container>

        <container name="xna">
            <!-- Services -->
            <register type="IUserMessage" mapTo="UserMessage">
                <lifetime type="singleton" />
            </register>
            <register type="IUserQuery" mapTo="UserQuery_WinForms">
                <lifetime type="singleton" />
            </register>
            <register type="IOpenFileDialog" mapTo="OpenFileDialog_WinForms">
                <lifetime type="transient" />
            </register>
            <register type="ISaveFileDialog" mapTo="SaveFileDialog_WinForms">
                <lifetime type="transient" />
            </register>

            <!-- Emulator UI -->
            <register type="IMainView" mapTo="MainView_Xna">
                <property name="KeyboardMapFile" value="Keyboard.Xna.config" />
                <lifetime type="transient" />
            </register>
            <register type="IAboutView" mapTo="AboutView_WinForms">
                <lifetime type="transient" />
            </register>
            <register type="IKeyboardView" mapTo="KeyboardView_WinForms">
                <lifetime type="transient" />
            </register>

            <!-- Device UI -->
            <register type="IMemoryMapView" mapTo="MemoryMapView_WinForms">
                <lifetime type="transient" />
            </register>
            <register type="ITapeView" mapTo="TapeView_WinForms">
                <lifetime type="transient" />
            </register>
            <register type="IFddDebugView" mapTo="FddDebugView_WinForms">
                <lifetime type="transient" />
            </register>
            <register type="IDebuggerGeneralView" mapTo="DebuggerGeneralView_WinForms">
                <lifetime type="transient" />
            </register>
            <register type="IDebuggerSprinterView" mapTo="DebuggerSprinterView_WinForms">
                <lifetime type="transient" />
            </register>
            <register type="IDebuggerAdlersView" mapTo="DebuggerAdlersView_WinForms">
                <lifetime type="transient" />
            </register>
        </container>
    </containers>
</unity>
